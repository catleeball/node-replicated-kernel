[package]
name = "init"
version = "0.1.0"
authors = ["Gerd Zellweger <mail@gerdzellweger.com>"]
edition = "2018"
build = "build.rs"

[[bin]]
name = "init"
path = "src/init.rs"

[dependencies]
spin = { version = "0.4.8", default_features = false }
cstr_core = { git = "https://github.com/gz/cstr_core.git", default-features = false }
log = "0.4"
lineup = { path = "../../lib/lineup" }
rawtime = { path = "../../lib/rawtime" }
x86 = { path = "../../lib/x86" }
vibrio = { path = "../../lib/vibrio" }

[features]
rumprt = ["vibrio/rumprt"]
default = ["rumprt"]
# Use virtio instead of e1000
virtio = []

# Some smoke tests we run with CI,
# they test that the base features of
# the kernel are working:
test-print = []
test-map = []
test-alloc = []
test-upcall = []
test-scheduler = []
test-scheduler-smp = []
test-rump-tmpfs = [ "rumprt" ]
test-rump-net = [ "rumprt" ]
test-fs = []
fs-bench = []
fs-write = []
